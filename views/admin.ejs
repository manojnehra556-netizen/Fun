<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - Jila Update</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#f4f4f4;
}

.header{
  background:linear-gradient(90deg,#c40000,#ff0000);
  color:white;
  padding:15px;
  text-align:center;
}

.container{
  padding:15px;
}

.card{
  background:white;
  padding:15px;
  margin-bottom:20px;
  border-radius:8px;
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

input, select{
  width:100%;
  padding:8px;
  margin:8px 0;
  border-radius:6px;
  border:1px solid #ccc;
}

button{
  background:red;
  color:white;
  padding:8px 15px;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

.post{
  border-bottom:1px solid #ddd;
  padding:10px 0;
}

.delete{
  color:red;
  text-decoration:none;
  font-weight:bold;
}
</style>
</head>
<body>

<div class="header">
  <h2>Admin Panel</h2>
</div>

<div class="container">

<!-- ADD NEWS -->
<div class="card">
<h3>Add News</h3>

<form action="/admin/add" method="POST">

<input type="text" name="title" placeholder="News Title" required>

<select name="category" required>
  <option value="">Select Category</option>
  <option value="Local">Local</option>
  <option value="Sports">Sports</option>
  <option value="Business">Business</option>
  <option value="Politics">Politics</option>
</select>

<input type="text" name="image" placeholder="Image URL">
<input type="text" name="location" placeholder="Location">

<label>
  <input type="checkbox" name="isBreaking"> Mark as Breaking
</label>

<br><br>

<textarea name="content" id="editor"></textarea>

<br>

<button type="submit">Publish News</button>

</form>
</div>

<!-- ALL POSTS -->
<div class="card">
<h3>All Posts</h3>

<% allNews.forEach(item => { %>

<div class="post">
  <b><%= item.title %></b><br>
  Category: <%= item.category %><br>
  Date: <%= new Date(item.createdAt).toLocaleString("en-IN") %><br><br>

  <form action="/admin/delete/<%= item._id %>" method="POST" style="display:inline;">
    <button type="submit" onclick="return confirm('Delete this post?')" style="background:red;">Delete</button>
  </form>
</div>

<% }) %>

</div>

</div>

<!-- CKEDITOR -->
<script src="https://cdn.ckeditor.com/4.21.0/full/ckeditor.js"></script>
<script>
CKEDITOR.replace('editor', {
    height:300,
    toolbar: [
        { name:'basicstyles', items:['Bold','Italic','Underline','Strike'] },
        { name:'colors', items:['TextColor','BGColor'] },
        { name:'paragraph', items:['NumberedList','BulletedList','Blockquote'] },
        { name:'styles', items:['Format','FontSize'] },
        { name:'align', items:['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'] },
        { name:'insert', items:['Link','Unlink','Image'] },
        { name:'tools', items:['Maximize'] }
    ]
});
</script>

</body>
</html>