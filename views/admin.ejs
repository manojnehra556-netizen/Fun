<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Panel - Jila Update</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f4f4;
}

/* HEADER */
.header{
  background:#c40000;
  color:white;
  text-align:center;
  padding:15px;
  font-size:20px;
  font-weight:bold;
}

/* CONTAINER */
.container{
  max-width:900px;
  margin:20px auto;
  background:white;
  padding:20px;
  border-radius:8px;
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

/* FORM */
form input,
form textarea,
form select{
  width:100%;
  padding:8px;
  margin-bottom:10px;
  border:1px solid #ccc;
  border-radius:4px;
}

form textarea{
  height:120px;
  resize:none;
}

.checkbox-group{
  display:flex;
  gap:15px;
  margin-bottom:10px;
}

button{
  background:#c40000;
  color:white;
  border:none;
  padding:10px 15px;
  border-radius:4px;
  cursor:pointer;
}

button:hover{
  background:#900000;
}

/* NEWS LIST */
.news-list{
  margin-top:30px;
}

.news-card{
  border-bottom:1px solid #ddd;
  padding:10px 0;
}

.news-card:last-child{
  border:none;
}

.delete-btn{
  color:red;
  text-decoration:none;
  font-size:13px;
  margin-left:10px;
}

.meta{
  font-size:12px;
  color:gray;
}

@media(max-width:600px){
  .container{
    margin:10px;
  }
}
</style>
</head>

<body>

<div class="header">
  Admin Dashboard - Jila Update
</div>

<div class="container">

  <h3>Add New News</h3>

  <form action="/admin/add" method="POST">

    <label>Title:</label>
    <input type="text" name="title" required>

    <label>Content:</label>
    <textarea name="content" required></textarea>

    <label>Category:</label>
    <select name="category" required>
      <option value="Local">Local</option>
      <option value="Sports">Sports</option>
      <option value="Business">Business</option>
      <option value="Politics">Politics</option>
    </select>

    <label>Location:</label>
    <input type="text" name="location">

    <label>Image URL:</label>
    <input type="text" name="image">

    <label>Text Color:</label>
    <input type="color" name="textColor" value="#000000">

    <div class="checkbox-group">
      <label><input type="checkbox" name="isBreaking"> Breaking</label>
      <label><input type="checkbox" name="isTop"> Top News</label>
      <label><input type="checkbox" name="isLive"> Live</label>
    </div>

    <button type="submit">Publish News</button>

  </form>

  <div class="news-list">
    <h3>All News</h3>

    <% if(allNews && allNews.length > 0){ %>

      <% allNews.forEach(news => { %>

        <div class="news-card">

          <strong style="color:<%= news.textColor %>">
            <%= news.title %>
          </strong>

          <div class="meta">
            Category: <%= news.category %> |
            Views: <%= news.views %> |
            Date: <%= new Date(news.createdAt).toLocaleString("en-IN") %>
          </div>

          <a class="delete-btn" href="/admin/delete/<%= news._id %>">
            Delete
          </a>

        </div>

      <% }) %>

    <% } else { %>

      <p>No news added yet.</p>

    <% } %>

  </div>

</div>

</body>
</html>