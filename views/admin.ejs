<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - ‡§ú‡§ø‡§≤‡§æ ‡§Ö‡§™‡§°‡•á‡§ü</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f6f9;
}

header{
  background:#c40000;
  color:white;
  padding:20px;
  text-align:center;
}

.container{
  max-width:1000px;
  margin:auto;
  padding:20px;
}

.card{
  background:white;
  padding:20px;
  margin-bottom:25px;
  border-radius:10px;
  box-shadow:0 4px 15px rgba(0,0,0,0.1);
}

.card h2{
  margin-top:0;
  color:#c40000;
}

input, textarea, select{
  width:100%;
  padding:10px;
  margin-top:8px;
  margin-bottom:15px;
  border-radius:6px;
  border:1px solid #ccc;
}

textarea{
  resize:none;
  height:120px;
}

.options{
  display:flex;
  gap:20px;
  margin-bottom:15px;
  flex-wrap:wrap;
}

.options label{
  font-weight:bold;
}

button{
  background:#c40000;
  color:white;
  border:none;
  padding:10px 15px;
  border-radius:6px;
  cursor:pointer;
}

button:hover{
  background:#a00000;
}

.news-item{
  padding:12px;
  border-bottom:1px solid #eee;
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
}

.badge{
  display:inline-block;
  background:#c40000;
  color:white;
  padding:3px 6px;
  font-size:11px;
  border-radius:4px;
  margin-right:5px;
}

.live-badge{
  background:red;
  color:white;
  padding:3px 6px;
  font-size:11px;
  border-radius:4px;
  margin-right:5px;
  animation: blink 1s infinite;
}

@keyframes blink{
  50%{opacity:0.4;}
}

.delete-btn{
  background:black;
}

.delete-btn:hover{
  background:#333;
}
</style>
</head>

<body>

<header>
  <h1>‡§ú‡§ø‡§≤‡§æ ‡§Ö‡§™‡§°‡•á‡§ü - Admin Dashboard</h1>
</header>

<div class="container">

  <!-- ADD NEWS -->
  <div class="card">
    <h2>üì∞ ‡§®‡§à ‡§ñ‡§¨‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</h2>

    <form action="/admin/add" method="POST">

      <label>‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï</label>
      <input type="text" name="title" required>

      <label>‡§∏‡§Æ‡§æ‡§ö‡§æ‡§∞ ‡§µ‡§ø‡§µ‡§∞‡§£</label>
      <textarea name="content" required></textarea>

      <label>Image URL</label>
      <input type="text" name="image">

      <label>Location</label>
      <input type="text" name="location">

      <label>‡§∂‡•ç‡§∞‡•á‡§£‡•Ä</label>
      <select name="category" required>
        <option value="Local">Local</option>
        <option value="Sports">Sports</option>
        <option value="Business">Business</option>
        <option value="Politics">Politics</option>
        <option value="Entertainment">Entertainment</option>
        <option value="Technology">Technology</option>
        <option value="Jobs">Jobs</option>
      </select>

      <div class="options">
        <label>
          <input type="checkbox" name="isBreaking">
          Breaking
        </label>

        <label>
          <input type="checkbox" name="isTop">
          Top News
        </label>

        <label>
          <input type="checkbox" name="isLive">
          üî¥ Show as LIVE
        </label>
      </div>

      <button type="submit">Publish News</button>

    </form>
  </div>

  <!-- NEWS LIST -->
  <div class="card">
    <h2>üìã ‡§∏‡§≠‡•Ä ‡§ñ‡§¨‡§∞‡•á‡§Ç</h2>

    <% allNews.forEach(function(item){ %>
      <div class="news-item">

        <div>
          <strong><%= item.title %></strong><br>

          <% if(item.isBreaking){ %>
            <span class="badge">BREAKING</span>
          <% } %>

          <% if(item.isTop){ %>
            <span class="badge">TOP</span>
          <% } %>

          <% if(item.isLive){ %>
            <span class="live-badge">LIVE</span>
          <% } %>

          <br>
          <small>
            Category: <%= item.category %> |
            Views: <%= item.views %>
          </small>
        </div>

        <a href="/admin/delete/<%= item._id %>">
          <button class="delete-btn">Delete</button>
        </a>

      </div>
    <% }) %>

  </div>

</div>

</body>
</html>